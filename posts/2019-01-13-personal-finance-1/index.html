<!doctype html><html lang=en-us><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-49279373-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-49279373-1")</script><title>AstromechZA - Ben Meier</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The HTML5 Herald"><meta name=author content="Ben Meier"><link href=https://github.com/astromechza rel=me><link href=https://hachyderm.io/@benmeier_ rel=me><meta name=generator content="Hugo 0.110.0"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda"><link rel=stylesheet type=text/css href=https://astromechza.github.io/css/styles.css></head><body><div id=container><header><h1><a href=https://astromechza.github.io/>AstromechZA - Ben Meier</a></h1><ul id=social-media class=fa-ul><li><a href=https://hachyderm.io/@benmeier_><i class="fab fa-mastodon fa-fw"></i></a></li><li><a href=https://twitter.com/@benmeier_><i class="fab fa-twitter fa-fw"></i></a></li><li><a href=https://github.com/AstromechZA><i class="fab fa-github fa-fw"></i></a></li></ul><p><em>My Mind on Code</em></p></header><nav><ul><li><a class=active href=https://astromechza.github.io/posts/><i class="fa-li fa fa-lg"></i><span>All Posts</span></a></li></ul></nav><main><article><h1>Personal Finance Thoughts 1</h1><aside><ul><li><time class=post-date datetime=2019-01-13T09:00:00+01:00>Jan 13, 2019</time></li><li><em><a href=https://astromechza.github.io/tags/golang/>#golang</a>
,
<a href=https://astromechza.github.io/tags/finance/>#finance</a>
,
<a href=https://astromechza.github.io/tags/plaintext/>#plaintext</a>
,
<a href=https://astromechza.github.io/tags/devdiary/>#devdiary</a></em></li><li>3 min read</li></ul></aside><h1 id=intro>Intro</h1><p>For a few months now I&rsquo;ve been trying to find a good home-grown solution to budgetting and tracking my finances.</p><p>About a year ago I used <code>ledger-cli</code> for a time which is a fairly nice plain-text double-entry accounting system. It worked pretty well and served its purpose but I was always a bit uncomfortable with some of the ways it worked (for example, the custom syntax and very complex accounting rules).</p><p>I also want to move towards a solution which supports the following additional things:</p><ul><li><p><strong>git-based storage</strong>: So I can use a central storage like Github/Bitbucket that can easily synchronise between devices.</p></li><li><p><strong>separate logic from syntax</strong>: Be able to load transactions from <code>yaml</code> or <code>json</code>, or anything generated from external tooling.</p></li><li><p><strong>simplify accounting</strong>: Remove concepts of lot-prices, conversion pricing, and a bunch of other things that can be represented in other ways.</p></li><li><p><strong>treat commodities and currencies the same</strong>: Currency values like <code>£100</code> can be represented as <code>100 £</code> or <code>100 GBP</code>.</p></li></ul><p>The implementation would be done as a set of pure-stdlib libraries that can be combined with extensions that provide interactions with other formats, data sources, or analysis.</p><h1 id=core-concepts-and-rules>Core concepts and rules</h1><ul><li><p>An <code>amount</code> is a combination of a mixed-precision decimal combined with a <code>commodity</code> like <code>£</code>, <code>$</code>, <code>GOOG</code>.</p></li><li><p>An <code>entry</code> is a negative or positive <code>amount</code> combined with an account. It indicates a change in value of that account.</p></li><li><p>A <code>transaction</code> is a list of <code>entries</code> that balance to <code>0</code> across each <code>commodity</code>. Combined with a precise date/time and metadata such as labels, notes, etc.</p></li><li><p>An <code>account</code> can contain any number of child <code>accounts</code>. The total value of an <code>account</code> is the sum of all <code>amounts</code> in that <code>account</code> and all child <code>accounts</code>. These can be seen as a tree of values.</p></li><li><p>An <code>account</code> can only be used in an <code>entry</code> if it has been &ldquo;defined&rdquo;. The process of defining an account is fairly flexible and allows you to specify some properties, labels, and description.</p></li></ul><h1 id=data-sources>Data sources</h1><p>By extracting the core concepts from the data source and presentation, we can easily define a core library from which we can load data.</p><p>By treating the data source as just a stream of structured documents, wherein each document represents a transaction, account defintion, or other core type; we get an easily abstracted system which can be extended to cover many different use cases:</p><ul><li>Recursive directory structure containing files of structured documents</li><li>A sqlite database on disk</li><li>A remote database such as Postgresql or Amazon DynamoDB</li><li>A document store like ElasticSearch or Redis</li></ul><h1 id=data-presentation>Data presentation</h1><p>If the core library contains the many concepts that allow access to transactions, accounts, and the sources therein, we can provide an API on top of which various other systems can be built:</p><ul><li>Filtering of transactions and entries by labels, types, etc..</li><li>Analysis of account values over time</li><li>Budgeting and other calculations</li><li>Projections of growth</li></ul><p>The API of the core library would be driven by the presentation tools. I&rsquo;m not going to try and guess at the API at this time, since I&rsquo;m almost certain I&rsquo;d get it wrong!</p><h1 id=design-goals>Design goals</h1><p>Most of my requirements are routed in making this a nice and extensible system without too many edge cases or branch conditions. I&rsquo;ll try and set up an API that makes it easy to built systems on top of this, rather than trying to include all functionality in one place.</p><p>For example, the core API doesn&rsquo;t need to know anything about data sources or file reading, or even how to serialise and deserialise the objects. It only needs to support the API that is exposed.</p><h1 id=conclusion>Conclusion</h1><p>This is my main side project at the moment, and hopefully I&rsquo;ll be able to move over to using this as my primary personal finance toolkit somewhere in the future.</p><p>More posts will follow.</p></article><section class=post-nav><ul><li><a href=https://astromechza.github.io/posts/2018-08-12-coordinated-omission/><i class="fa fa-chevron-circle-left"></i> Coordinated Omission in load measurements</a></li></ul></section></main><footer><h6>Copyright © 2018 - Ben Meier |
Rendered by <a href=https://gohugo.io title=Hugo>Hugo</a> |
<a href=https://astromechza.github.io/index.xml>Subscribe</a></h6></footer></div><script src=https://astromechza.github.io/js/scripts.js></script></body></html>